"use strict";(self.webpackChunkdss_pendekar=self.webpackChunkdss_pendekar||[]).push([[468,346],{8468:function(e,a,s){s.r(a),s.d(a,{default:function(){return p}});var n=s(9439),t=s(1243),r=s(2791),i=(s(9086),s(2346));var l=s.p+"static/media/mendapatBantuan.90166b4d0e770441516feda35d8ba8eb.svg";var c=s.p+"static/media/kk.212001f5b0c414ead557959dd3eae584.svg",d=s(3513),o=s(184),u=function(e){var a=e.resultData.data,s=a.list_kecamatan,t=a.list_desa,i=a.list_bansos,l=(0,r.useState)(""),c=(0,n.Z)(l,2),u=c[0],m=c[1],h=(0,r.useState)(""),p=(0,n.Z)(h,2),x=p[0],j=p[1],f=(0,r.useState)(""),v=(0,n.Z)(f,2),b=v[0],N=v[1],k=(0,r.useMemo)((function(){return j(""),t.filter((function(e){return"".concat(e.k1,".").concat(e.k2,".").concat(e.k3)===u}))}),[t,u]),g=(0,r.useMemo)((function(){return s}),[s]),y=(0,r.useMemo)((function(){return i.filter((function(e){return""!==b?e.nama_deskel.toLowerCase().indexOf(b.toLowerCase())>-1:u&&x?e.kode_wilayah===x:!u||"".concat(e.k1,".").concat(e.k2,".").concat(e.k3)===u}))}),[u,x,b,k]);return(0,o.jsxs)(r.Fragment,{children:[(0,o.jsxs)("div",{className:"row g-1 mb-4",children:[(0,o.jsx)("div",{className:"col-3",children:(0,o.jsx)("div",{className:"search-produk",children:(0,o.jsxs)("form",{className:"search-form-produk d-flex align-items-center",method:"POST",action:"/",children:[(0,o.jsx)("input",{value:b,onChange:function(e){return N(e.target.value)},type:"text",name:"query",placeholder:"Cari Desa/Kelurahan...",title:"Enter search keyword"}),(0,o.jsx)("button",{type:"submit",title:"Search",children:(0,o.jsx)("i",{className:"bi bi-search"})})]})})}),(0,o.jsx)("div",{className:"col-3",children:(0,o.jsxs)("select",{onChange:function(e){return m(e.target.value)},className:"form-select","aria-label":"Default select example",children:[(0,o.jsx)("option",{value:"",children:"Semua Kecamatan"}),g.map((function(e){return(0,o.jsx)("option",{value:e.kode_wilayah,selected:u===e.kode_wilayah,children:e.nama_kecamatan},e.kode_wilayah)}))]})}),(0,o.jsx)("div",{className:"col-3",children:(0,o.jsxs)("select",{onChange:function(e){return j(e.target.value)},className:"form-select","aria-label":"Default select example",children:[(0,o.jsx)("option",{value:"",children:"Semua Desa"}),k.map((function(e){return(0,o.jsx)("option",{value:e.kode_wilayah,selected:x===e.kode_wilayah,children:e.nama_deskel},e.kode_wilayah)}))]})})]}),(0,o.jsx)(d.ZP,{columns:[{name:"No",selector:function(e,a){return a+1},width:"70px",style:{borderLeft:"1px solid #EDEDED"}},{name:"Kecamatan",sortable:!0,selector:function(e){return e.nama_kecamatan}},{name:"Desa",sortable:!0,selector:function(e){return e.nama_deskel}},{name:"Jenis Bantuan",sortable:!0,selector:function(e){return e.jenis_bansos}},{name:"Individu",sortable:!0,selector:function(e){return e.jml_penerima}},{name:"KK",sortable:!0,selector:function(e){return e.jml_penerima_kk}}],data:y,customStyles:{headCells:{style:{fontSize:"15px",fontWeight:"bold",backgroundColor:"#F1ECFF",borderRight:"1px solid #EDEDED",borderTop:"1px solid #EDEDED"}},cells:{style:{fontSize:"15px",borderRight:"1px solid #EDEDED"}}},pagination:!0})]})},m=s(7334);function h(e){return(0,o.jsx)("option",{value:e.value,children:e.title})}var p=function(){var e=(0,r.useState)(),a=(0,n.Z)(e,2),s=a[0],d=a[1],p=(0,r.useState)(!1),x=(0,n.Z)(p,2),j=x[0],f=x[1],v=(0,r.useState)([]),b=(0,n.Z)(v,2),N=b[0],k=b[1],g=(0,r.useState)([]),y=(0,n.Z)(g,2),_=y[0],w=y[1],D=(0,r.useState)(),S=(0,n.Z)(D,2),E=S[0],I=S[1];return(0,r.useEffect)((function(){f(!0),t.Z.get("https://sulselprov-enrekangkab.pendekar.digitaldesa.id/api/bansos").then((function(e){d(e.data);var a=e.data.data;k(a.list_kecamatan),w(a.list_desa),I(a.last_updated)})).catch((function(e){alert(e.message)})).finally((function(){return f(!1)})),document.title="Bantuan Sosial | PENDEKAR"}),[]),j?(0,o.jsx)(i.default,{}):(0,o.jsx)(r.Fragment,{children:(0,o.jsxs)("main",{id:"main",className:"main",children:[(0,o.jsx)("div",{className:"pagetitle mt-3 mb-5",children:(0,o.jsx)("h1",{children:"Bantuan Sosial"})}),(0,o.jsx)("div",{className:"filter-update",children:(0,o.jsx)("h5",{children:(0,o.jsxs)("span",{className:"badge bg-update py-3",children:["Last Update : ",(0,m.Ai)(E)]})})}),(0,o.jsx)("section",{className:"section dashboard",children:(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)("div",{className:"col-lg-12",children:(0,o.jsx)("div",{className:"card",children:(0,o.jsxs)("div",{className:"card-body",children:[(0,o.jsx)("div",{className:"filter-primary",children:(0,o.jsx)("button",{type:"button",className:"btn btn-primary",children:"Export Report"})}),(0,o.jsxs)("div",{className:"row g-1 my-4",children:[(0,o.jsx)("div",{className:"col-3",children:(0,o.jsxs)("select",{defaultValue:"0",className:"form-select","aria-label":"Pilih Kecamatan",children:[(0,o.jsx)("option",{value:"0",children:"Semua Kecamatan"}),N.map((function(e){return(0,o.jsx)(h,{value:e.kode_wilayah,title:e.nama_kecamatan},e.kode_wilayah)}))]})}),(0,o.jsx)("div",{className:"col-3",children:(0,o.jsxs)("select",{defaultValue:"0",className:"form-select","aria-label":"Pilih Desa",children:[(0,o.jsx)("option",{value:"0",children:"Semua Desa"}),_.map((function(e){return(0,o.jsx)(h,{value:e.kode_wilayah,title:e.nama_deskel},e.kode_wilayah)}))]})})]}),(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)("div",{className:"col-md-6",children:(0,o.jsx)("div",{className:"card",children:(0,o.jsx)("div",{className:"card-body rounded-2 bg-primary",children:(0,o.jsxs)("div",{className:"row px-4 py-2",children:[(0,o.jsxs)("div",{className:"col-6",children:[(0,o.jsx)("span",{className:"jum-bantuan timer count-title count-number",children:"0"})," ",(0,o.jsx)("br",{}),(0,o.jsx)("span",{className:"judul-card-bansos",children:"Penduduk Mendapat Bantuan"})]}),(0,o.jsx)("div",{className:"col-6 text-right center-v",children:(0,o.jsx)("img",{src:l,width:"60"})})]})})})}),(0,o.jsx)("div",{className:"col-md-6",children:(0,o.jsx)("div",{className:"card",children:(0,o.jsx)("div",{className:"card-body rounded-2 bg-secondary",children:(0,o.jsxs)("div",{className:"row px-4 py-2",children:[(0,o.jsxs)("div",{className:"col-6",children:[(0,o.jsx)("span",{className:"jum-bantuan timer count-title count-number",children:"1"})," ",(0,o.jsx)("br",{}),(0,o.jsx)("span",{className:"judul-card-bansos",children:"Kepala Keluarga Mendapat Bantuan"})]}),(0,o.jsx)("div",{className:"col-6 text-right center-v",children:(0,o.jsx)("img",{src:c,width:"60"})})]})})})})]})]})})}),(0,o.jsx)("div",{className:"col-lg-12",children:(0,o.jsx)("div",{className:"card",children:(0,o.jsxs)("div",{className:"card-body",children:[(0,o.jsx)("h5",{className:"card-title-potensi",children:"Rekap Penerima Bantuan Sosial"}),(0,o.jsx)("div",{className:"filter-primary",children:(0,o.jsx)("button",{type:"button",className:"btn btn-primary",children:"Export Report"})}),s&&(0,o.jsx)(u,{resultData:s})]})})})]})})]})})}},2346:function(e,a,s){s.r(a),s.d(a,{default:function(){return t}});s(2791);var n=s(184);function t(){return(0,n.jsx)("div",{className:"spinner-container",children:(0,n.jsx)("div",{className:"loading-spinner"})})}},9086:function(e,a,s){var n=window.location.hostname.split(".")[0];"https://".concat(n,".pendekar.digitaldesa.id/api/")},7334:function(e,a,s){s.d(a,{Ai:function(){return t},zD:function(){return l}});var n=function(e,a,s){return null==e?"":e.substring(a,a+s)},t=function(e){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("-"==n(e,2,1)){var s=n(e,0,2),t=n(e,3,2);return n(e,6,4)+"-"+t+"-"+s}if("-"==n(e,4,1)){var l=n(e,0,4),c=n(e,5,2),d=n(e,8,2),o=n(e,11,8);return a?d+" "+i(c)+" "+l+", "+r(o):d+"-"+c+"-"+l}},r=function(e){var a=n(e,0,2);if(a<12){0==a&&(a=12)}else{12!=a&&(a-=12)}return a+":"+n(e,3,2)+" AMPM"},i=function(e){return 1==parseInt(e)?"Januari":2==parseInt(e)?"Februari":3==parseInt(e)?"Maret":4==parseInt(e)?"April":5==parseInt(e)?"Mei":6==parseInt(e)?"Juni":7==parseInt(e)?"Juli":8==parseInt(e)?"Agustus":9==parseInt(e)?"September":10==parseInt(e)?"Oktober":11==parseInt(e)?"November":12==parseInt(e)?"Desember":e},l=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return a?a+" "+parseInt(e).formatMoney(0,".",","):"Rp"+parseInt(e).formatMoney(0,",",".")+",-"};Number.prototype.formatMoney=function(e,a,s){var n=this,t=(e=isNaN(e=Math.abs(e))?2:e,a=void 0==a?".":a,s=void 0==s?",":s,n<0?"-":""),r=String(parseInt(n=Math.abs(Number(n)||0).toFixed(e))),i=(i=r.length)>3?i%3:0;return t+(i?r.substr(0,i)+s:"")+r.substr(i).replace(/(\d{3})(?=\d)/g,"$1"+s)+(e?a+Math.abs(n-r).toFixed(e).slice(2):"")}}}]);
//# sourceMappingURL=468.16ca8d14.chunk.js.map