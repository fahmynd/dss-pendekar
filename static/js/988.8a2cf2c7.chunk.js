"use strict";(self.webpackChunkdss_pendekar=self.webpackChunkdss_pendekar||[]).push([[988,346],{7253:function(e,a,t){t.r(a),t.d(a,{default:function(){return x}});var n=t(9439),s=t(2791),i=t(6349),r=t(184),l=function(e){var a=(0,s.useState)(""),t=(0,n.Z)(a,2),l=t[0],c=t[1],o=(0,s.useState)(""),d=(0,n.Z)(o,2),u=d[0],m=d[1],h=(0,s.useState)(""),p=(0,n.Z)(h,2),x=p[0],f=p[1],k=e.resultData,j=k.list_desa,v=k.list_kecamatan,g=k.jenis_umkm,y=(0,s.useMemo)((function(){return f(""),j.filter((function(e){return"".concat(e.k1,".").concat(e.k2,".").concat(e.k3)===u}))}),[j,u]),b=(0,s.useMemo)((function(){return v}),[v]),N=(0,s.useMemo)((function(){var e=j.filter((function(e){return""!==l?e.nama_deskel.toLowerCase().indexOf(l.toLowerCase())>-1:u&&x?e.kode_wilayah===x:!u||"".concat(e.k1,".").concat(e.k2,".").concat(e.k3)===u})),a=[],t=function(t){var n=0;e.forEach((function(e){for(var a in e)t==a&&(n+=parseInt(e[a]))})),a.push({jenis_umkm:g[t],chart_umkm:n})};for(var n in g)t(n);return a.sort((function(e,a){return e.chart_umkm===a.chart_umkm?0:e.chart_umkm>a.chart_umkm?-1:1})),a}),[u,x,y,l]),w=(0,s.useMemo)((function(){return{title:{show:!1},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{},grid:{height:"95%",left:"3%",right:"4%",top:"5%",bottom:"20%",containLabel:!0},xAxis:{type:"value",boundaryGap:[0,0],min:0,max:function(e){return e.max},axisTick:{show:!1},axisLine:{lineStyle:{width:0,type:"dashed"}},splitLine:{show:!0,lineStyle:{type:"dashed"}}},yAxis:{type:"category",data:N.map((function(e){return e.jenis_umkm})),axisTick:{show:!1},axisLine:{show:!0,lineStyle:{width:0,type:"dashed"}},splitLine:{show:!0,lineStyle:{type:"dashed"}},inverse:!0},series:[{type:"bar",data:N.map((function(e){return e.chart_umkm})),color:"#EA9501",label:{show:!0,position:"right",formatter:"{c}",fontSize:12},itemStyle:{borderRadius:[0,5,5,0]},cursor:"auto"}],dataZoom:[{type:"inside",id:"insideY",yAxisIndex:0,start:0,end:100,filterMode:"empty",zoomOnMouseWheel:!1,moveOnMouseMove:!0,moveOnMouseWheel:!0}]}}),[N]);return(0,r.jsx)("div",{className:"card",children:(0,r.jsxs)("div",{className:"card-body",children:[(0,r.jsx)("h2",{className:"card-title-potensi",children:"JENIS USAHA"}),(0,r.jsx)("div",{className:"filter-primary",children:(0,r.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){return window.open("https://sulselprov-enrekangkab.pendekar.digitaldesa.id/api/export/jenis_usaha")},children:"Export Report"})}),(0,r.jsxs)("div",{className:"row g-1 mb-0 pb-0",children:[(0,r.jsx)("div",{className:"d-none col",children:(0,r.jsx)("div",{className:"search-produk",children:(0,r.jsxs)("form",{className:"search-form-produk d-flex align-items-center",children:[(0,r.jsx)("input",{value:l,onChange:function(e){return c(e.target.value)},type:"text",name:"query",placeholder:"Cari Desa/Kelurahan...",title:"Enter search keyword"}),(0,r.jsx)("button",{type:"submit",title:"Search",disabled:!0,children:(0,r.jsx)("i",{className:"bi bi-search"})})]})})}),(0,r.jsx)("div",{className:"col",children:(0,r.jsxs)("select",{onChange:function(e){return m(e.target.value)},className:"form-select","aria-label":"Default select example",children:[(0,r.jsx)("option",{value:"",children:"Semua Kecamatan"}),b.map((function(e){return(0,r.jsx)("option",{value:e.kode_wilayah,selected:u===e.kode_wilayah,children:e.nama_kecamatan},e.kode_wilayah)}))]})}),(0,r.jsx)("div",{className:"col",children:(0,r.jsxs)("select",{onChange:function(e){return f(e.target.value)},className:"form-select","aria-label":"Default select example",children:[(0,r.jsx)("option",{value:"",children:"Semua Desa"}),y.map((function(e){return(0,r.jsx)("option",{value:e.kode_wilayah,selected:x===e.kode_wilayah,children:e.nama_deskel},e.kode_wilayah)}))]})})]}),(0,r.jsx)("div",{style:{height:"400px"},children:(0,r.jsx)(i.Z,{option:w,style:{width:"auto",height:"100%"}})})]})})},c=function(e){var a=(0,s.useState)(""),t=(0,n.Z)(a,2),l=t[0],c=t[1],o=(0,s.useState)(""),d=(0,n.Z)(o,2),u=d[0],m=d[1],h=(0,s.useState)(""),p=(0,n.Z)(h,2),x=p[0],f=p[1],k=e.resultData,j=k.list_desa,v=k.list_kecamatan,g=(0,s.useMemo)((function(){return f(""),j.filter((function(e){return"".concat(e.k1,".").concat(e.k2,".").concat(e.k3)===u}))}),[j,u]),y=(0,s.useMemo)((function(){return v}),[v]),b=(0,s.useMemo)((function(){var e=j.filter((function(e){return""!==l?e.nama_deskel.toLowerCase().indexOf(l.toLowerCase())>-1:u&&x?e.kode_wilayah===x:!u||"".concat(e.k1,".").concat(e.k2,".").concat(e.k3)===u})).map((function(e){return{nama_desa:e.nama_deskel,jumlah_umkm:e.jml_umkm}}));return e.sort((function(e,a){return e.jumlah_umkm===a.jumlah_umkm?0:e.jumlah_umkm>a.jumlah_umkm?-1:1})),e}),[u,x,g,l]),N=(0,s.useMemo)((function(){var e=b.map((function(e){return e.nama_desa})),a=b.map((function(e){return e.jumlah_umkm}));return{title:{show:!1},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{},grid:{height:"95%",left:"3%",right:"4%",top:"5%",bottom:"20%",containLabel:!0},xAxis:{type:"value",boundaryGap:[0,0],min:0,max:function(e){return e.max},axisTick:{show:!1},axisLine:{lineStyle:{width:0,type:"dashed"}},splitLine:{show:!0,lineStyle:{type:"dashed"}}},yAxis:{type:"category",data:e.reverse(),axisTick:{show:!1},axisLine:{show:!0,lineStyle:{width:0,type:"dashed"}},splitLine:{show:!0,lineStyle:{type:"dashed"}}},series:[{type:"bar",data:a.reverse(),label:{show:!0,position:"right",formatter:function(e){return 0==e.data?"":e.data},fontSize:12},itemStyle:{borderRadius:[0,5,5,0]},cursor:"auto",color:"#499841"}],dataZoom:[{type:"inside",id:"insideY",yAxisIndex:0,start:50,end:100,filterMode:"empty",zoomOnMouseWheel:!1,moveOnMouseMove:!0,moveOnMouseWheel:!0}]}}),[b]);return(0,r.jsx)("div",{className:"card",children:(0,r.jsxs)("div",{className:"card-body",children:[(0,r.jsx)("h2",{className:"card-title-potensi",children:"USAHA DI WILAYAH"}),(0,r.jsx)("div",{className:"filter-primary",children:(0,r.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){return window.open("https://sulselprov-enrekangkab.pendekar.digitaldesa.id/api/export/usaha_di_wilayah")},children:"Export Report"})}),(0,r.jsxs)("div",{className:"row g-1 mb-0 pb-0",children:[(0,r.jsx)("div",{className:"col",children:(0,r.jsx)("div",{className:"search-produk",children:(0,r.jsxs)("form",{className:"search-form-produk d-flex align-items-center",children:[(0,r.jsx)("input",{value:l,onChange:function(e){return c(e.target.value)},type:"text",name:"query",placeholder:"Cari Desa/Kelurahan...",title:"Enter search keyword"}),(0,r.jsx)("button",{type:"submit",title:"Search",disabled:!0,children:(0,r.jsx)("i",{className:"bi bi-search"})})]})})}),(0,r.jsx)("div",{className:"col",children:(0,r.jsxs)("select",{onChange:function(e){return m(e.target.value)},className:"form-select","aria-label":"Default select example",children:[(0,r.jsx)("option",{value:"",children:"Semua Kecamatan"}),y.map((function(e){return(0,r.jsx)("option",{value:e.kode_wilayah,selected:u===e.kode_wilayah,children:e.nama_kecamatan},e.kode_wilayah)}))]})}),(0,r.jsx)("div",{className:"col",children:(0,r.jsxs)("select",{onChange:function(e){return f(e.target.value)},className:"form-select","aria-label":"Default select example",children:[(0,r.jsx)("option",{value:"",children:"Semua Desa"}),g.map((function(e){return(0,r.jsx)("option",{value:e.kode_wilayah,selected:x===e.kode_wilayah,children:e.nama_deskel},e.kode_wilayah)}))]})})]}),(0,r.jsx)("div",{style:{height:"400px"},children:(0,r.jsx)(i.Z,{option:N,style:{width:"auto",height:"100%"}})})]})})},o=t(1243),d=t(2346),u=t(6048),m=t.n(u);t.p;function h(e){var a=e.resultData,t=a.list_kecamatan,i=a.list_desa,l=a.list_umkm,c=(0,s.useState)([]),o=(0,n.Z)(c,2),d=o[0],u=o[1],h=(0,s.useState)(0),p=(0,n.Z)(h,2),x=p[0],f=p[1],k=(0,s.useState)(0),j=(0,n.Z)(k,2),v=j[0],g=j[1],y=(0,s.useState)(""),b=(0,n.Z)(y,2),N=b[0],w=b[1],_=(0,s.useState)(""),S=(0,n.Z)(_,2),M=S[0],C=S[1],D=(0,s.useState)(""),L=(0,n.Z)(D,2),A=L[0],I=L[1],Z=(0,s.useMemo)((function(){return C(""),i.filter((function(e){return"".concat(e.k1,".").concat(e.k2,".").concat(e.k3)===N}))}),[i,N]),E=(0,s.useMemo)((function(){return t}),[t]);(0,s.useMemo)((function(){return l.filter((function(e){return""!==A?e.nama_deskel.toLowerCase().indexOf(A.toLowerCase())>-1:N&&M?e.kode_wilayah===M:!N||"".concat(e.k1,".").concat(e.k2,".").concat(e.k3)===N}))}),[N,M,A,Z]);(0,s.useEffect)((function(){var e=v+9;u(l.slice(v,e)),f(Math.ceil(l.length/9))}),[v,9,l]);return(0,r.jsxs)(s.Fragment,{children:[(0,r.jsx)("div",{className:"filter-primary",children:(0,r.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){return window.open("https://sulselprov-enrekangkab.pendekar.digitaldesa.id/api/export/umkm")},children:"Export Report"})}),(0,r.jsxs)("div",{className:"row g-1 mb-4",children:[(0,r.jsx)("div",{className:"col",children:(0,r.jsx)("div",{className:"search-produk",children:(0,r.jsxs)("form",{className:"search-form-produk d-flex align-items-center",children:[(0,r.jsx)("input",{value:A,onChange:function(e){return I(e.target.value)},type:"text",name:"query",placeholder:"Cari Produk...",title:"Enter search keyword"}),(0,r.jsx)("button",{type:"submit",title:"Search",disabled:!0,children:(0,r.jsx)("i",{className:"bi bi-search"})})]})})}),(0,r.jsx)("div",{className:"col",children:(0,r.jsxs)("select",{onChange:function(e){return w(e.target.value)},className:"form-select","aria-label":"Default select example",children:[(0,r.jsx)("option",{value:"",children:"Semua Kecamatan"}),E.map((function(e){return(0,r.jsx)("option",{value:e.kode_wilayah,selected:N===e.kode_wilayah,children:e.nama_kecamatan},e.kode_wilayah)}))]})}),(0,r.jsx)("div",{className:"col",children:(0,r.jsxs)("select",{onChange:function(e){return C(e.target.value)},className:"form-select","aria-label":"Default select example",children:[(0,r.jsx)("option",{value:"",children:"Semua Desa"}),Z.map((function(e){return(0,r.jsx)("option",{value:e.kode_wilayah,selected:M===e.kode_wilayah,children:e.nama_deskel},e.kode_wilayah)}))]})}),(0,r.jsx)("div",{className:"col",children:(0,r.jsx)("select",{defaultValue:"DEFAULT",className:"form-select","aria-label":"Default select example",children:(0,r.jsx)("option",{value:"DEFAULT",children:"Jenis Usaha"})})})]}),(0,r.jsx)("div",{className:"row",children:d.map((function(e,a){return(0,r.jsx)("div",{className:"col-md-4",children:(0,r.jsx)("div",{className:"card p-2 mb-3",children:(0,r.jsxs)("div",{className:"row g-0 align-items-center",children:[(0,r.jsxs)("div",{className:"col-5 item",children:[(0,r.jsx)("span",{className:"notify-badge",children:e.tipe_usaha}),(0,r.jsx)("img",{src:"https://api.digitaldesa.id/uploads/belanja/".concat(e.foto),className:"img-fluid rounded-start",alt:"..."})]}),(0,r.jsx)("div",{className:"col-7 direction",children:(0,r.jsxs)("div",{className:"card-body-produk",children:[(0,r.jsx)("h6",{className:"fw-bold m-0",children:e.nama_usaha}),(0,r.jsxs)("p",{className:"fw-bold smaller m-0",children:["Desa ",e.nama_deskel,", Kec. ",e.nama_kecamatan]}),(0,r.jsxs)("div",{className:"smaller",children:[(0,r.jsx)("p",{className:"m-0",children:"Order via:"}),(0,r.jsxs)("ul",{className:"m-0",children:[(0,r.jsx)("li",{children:"DIGIDES"}),(0,r.jsx)("li",{children:"Tokopedia"}),(0,r.jsx)("li",{children:"Grab/Gojek"})]})]}),(0,r.jsxs)("a",{href:e.map,target:"_blank",rel:"noreferrer",className:"small",children:[(0,r.jsx)("i",{className:"fa-sharp fa-solid fa-diamond-turn-right"}),"\xa0 Petunjuk Arah"]})]})})]})})},a)}))}),(0,r.jsx)(m(),{className:"pagination justify-content-center",nextLabel:"Next >",onPageChange:function(e){var a=9*e.selected%l.length;g(a)},pageRangeDisplayed:3,marginPagesDisplayed:2,pageCount:x,previousLabel:"< Previous",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",containerClassName:"pagination",activeClassName:"active",renderOnZeroPageCount:null})]})}t(9086);var p=t(7334),x=function(){var e=(0,s.useState)(!1),a=(0,n.Z)(e,2),t=a[0],i=a[1],u=(0,s.useState)(),m=(0,n.Z)(u,2),x=m[0],f=m[1],k=(0,s.useState)(),j=(0,n.Z)(k,2),v=j[0],g=j[1];return(0,s.useEffect)((function(){i(!0),o.Z.get("https://sulselprov-enrekangkab.pendekar.digitaldesa.id/api/umkm?k3=&k4=&search=&type=&limit=").then((function(e){var a=e.data.data;f(a),g(a.last_updated)})).catch((function(e){alert(e.message)})).finally((function(){return i(!1)})),document.title="UMKM | PENDEKAR"}),[]),t?(0,r.jsx)(d.default,{}):(0,r.jsx)(s.Fragment,{children:(0,r.jsxs)("main",{id:"main",className:"main",children:[(0,r.jsx)("div",{className:"pagetitle mt-3 mb-5",children:(0,r.jsx)("h1",{children:"UMKM"})}),(0,r.jsx)("div",{className:"filter-update",children:(0,r.jsx)("h5",{children:(0,r.jsxs)("span",{className:"badge bg-update py-3",children:["Last Update : ",(0,p.Ai)(v)]})})}),(0,r.jsx)("section",{className:"section dashboard",children:(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-md-6",children:x&&(0,r.jsx)(c,{resultData:x})}),(0,r.jsx)("div",{className:"col-md-6",children:x&&(0,r.jsx)(l,{resultData:x})}),(0,r.jsxs)("div",{className:"col-lg-12",children:[(0,r.jsx)("h5",{className:"card-title-potensi",children:"PRODUK UMKM DESA/KELURAHAN"}),x&&(0,r.jsx)(h,{resultData:x})]})]})})]})})}},2346:function(e,a,t){t.r(a),t.d(a,{default:function(){return s}});t(2791);var n=t(184);function s(){return(0,n.jsx)("div",{className:"spinner-container",children:(0,n.jsx)("div",{className:"loading-spinner"})})}},9086:function(e,a,t){var n=window.location.hostname.split(".")[0];"https://".concat(n,".pendekar.digitaldesa.id/api/")},7334:function(e,a,t){t.d(a,{Ai:function(){return i},c$:function(){return s},zD:function(){return c}});var n=function(e,a,t){return null==e?"":e.substring(a,a+t)},s=function(e){return"0000-00-00"==e?"-":n(e,8,2)+" "+l(n(e,5,2))+" "+n(e,0,4)},i=function(e){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("-"==n(e,2,1)){var t=n(e,0,2),s=n(e,3,2);return n(e,6,4)+"-"+s+"-"+t}if("-"==n(e,4,1)){var i=n(e,0,4),c=n(e,5,2),o=n(e,8,2),d=n(e,11,8);return a?o+" "+l(c)+" "+i+", "+r(d):o+"-"+c+"-"+i}},r=function(e){var a=n(e,0,2),t="PM";return a<12?(t="AM",0==a&&(a=12)):12!=a&&(a-=12),a+":"+n(e,3,2)+" "+t},l=function(e){return 1==parseInt(e)?"Januari":2==parseInt(e)?"Februari":3==parseInt(e)?"Maret":4==parseInt(e)?"April":5==parseInt(e)?"Mei":6==parseInt(e)?"Juni":7==parseInt(e)?"Juli":8==parseInt(e)?"Agustus":9==parseInt(e)?"September":10==parseInt(e)?"Oktober":11==parseInt(e)?"November":12==parseInt(e)?"Desember":e},c=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return a?a+" "+parseInt(e).formatMoney(0,".",","):"Rp"+parseInt(e).formatMoney(0,",",".")+",-"};Number.prototype.formatMoney=function(e,a,t){var n=this,s=(e=isNaN(e=Math.abs(e))?2:e,a=void 0==a?".":a,t=void 0==t?",":t,n<0?"-":""),i=String(parseInt(n=Math.abs(Number(n)||0).toFixed(e))),r=(r=i.length)>3?r%3:0;return s+(r?i.substr(0,r)+t:"")+i.substr(r).replace(/(\d{3})(?=\d)/g,"$1"+t)+(e?a+Math.abs(n-i).toFixed(e).slice(2):"")}}}]);
//# sourceMappingURL=988.8a2cf2c7.chunk.js.map