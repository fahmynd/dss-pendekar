"use strict";(self.webpackChunkdss_pendekar=self.webpackChunkdss_pendekar||[]).push([[522,346],{522:function(e,a,n){n.r(a),n.d(a,{default:function(){return p}});var t=n(9439),s=n(1243),r=n(2791),i=(n(9086),n(2346));var l=n.p+"static/media/mendapatBantuan.90166b4d0e770441516feda35d8ba8eb.svg";var c=n.p+"static/media/kk.212001f5b0c414ead557959dd3eae584.svg",d=n(3513),o=n(184),u=function(e){var a=e.resultData.data,n=a.list_kecamatan,s=a.list_desa,i=a.list_bansos,l=(0,r.useState)(""),c=(0,t.Z)(l,2),u=c[0],m=c[1],h=(0,r.useState)(""),p=(0,t.Z)(h,2),x=p[0],f=p[1],j=(0,r.useState)(""),v=(0,t.Z)(j,2),b=v[0],k=v[1],N=(0,r.useMemo)((function(){return f(""),s.filter((function(e){return"".concat(e.k1,".").concat(e.k2,".").concat(e.k3)===u}))}),[s,u]),g=(0,r.useMemo)((function(){return n}),[n]),_=(0,r.useMemo)((function(){return i.filter((function(e){return""!==b?e.nama_deskel.toLowerCase().indexOf(b.toLowerCase())>-1:u&&x?e.kode_wilayah===x:!u||"".concat(e.k1,".").concat(e.k2,".").concat(e.k3)===u}))}),[u,x,b,N]);return(0,o.jsxs)(r.Fragment,{children:[(0,o.jsxs)("div",{className:"row g-1 mb-4",children:[(0,o.jsx)("div",{className:"col-3",children:(0,o.jsx)("div",{className:"search-produk",children:(0,o.jsxs)("form",{className:"search-form-produk d-flex align-items-center",method:"POST",action:"/",children:[(0,o.jsx)("input",{value:b,onChange:function(e){return k(e.target.value)},type:"text",name:"query",placeholder:"Cari Desa/Kelurahan...",title:"Enter search keyword"}),(0,o.jsx)("button",{type:"submit",title:"Search",disabled:!0,children:(0,o.jsx)("i",{className:"bi bi-search"})})]})})}),(0,o.jsx)("div",{className:"col-3",children:(0,o.jsxs)("select",{onChange:function(e){return m(e.target.value)},className:"form-select","aria-label":"Default select example",children:[(0,o.jsx)("option",{value:"",children:"Semua Kecamatan"}),g.map((function(e){return(0,o.jsx)("option",{value:e.kode_wilayah,selected:u===e.kode_wilayah,children:e.nama_kecamatan},e.kode_wilayah)}))]})}),(0,o.jsx)("div",{className:"col-3",children:(0,o.jsxs)("select",{onChange:function(e){return f(e.target.value)},className:"form-select","aria-label":"Default select example",children:[(0,o.jsx)("option",{value:"",children:"Semua Desa"}),N.map((function(e){return(0,o.jsx)("option",{value:e.kode_wilayah,selected:x===e.kode_wilayah,children:e.nama_deskel},e.kode_wilayah)}))]})})]}),(0,o.jsx)(d.ZP,{columns:[{name:"No",selector:function(e,a){return a+1},width:"70px",style:{borderLeft:"1px solid #EDEDED"}},{name:"Kecamatan",sortable:!0,selector:function(e){return e.nama_kecamatan}},{name:"Desa",sortable:!0,selector:function(e){return e.nama_deskel}},{name:"Jenis Bantuan",sortable:!0,selector:function(e){return e.jenis_bansos}},{name:"Individu",sortable:!0,selector:function(e){return e.jml_penerima}},{name:"KK",sortable:!0,selector:function(e){return e.jml_penerima_kk}}],data:_,customStyles:{headCells:{style:{fontSize:"15px",fontWeight:"bold",backgroundColor:"#F1ECFF",borderRight:"1px solid #EDEDED",borderTop:"1px solid #EDEDED"}},cells:{style:{fontSize:"15px",borderRight:"1px solid #EDEDED"}}},pagination:!0})]})},m=n(7334),h=function(e){var a=e.resultData.data,n=a.list_kecamatan,s=a.list_desa,i=(0,r.useState)(""),d=(0,t.Z)(i,2),u=d[0],m=d[1],h=(0,r.useState)(""),p=(0,t.Z)(h,2),x=p[0],f=p[1],j=(0,r.useMemo)((function(){return f(""),u?s.filter((function(e){return e.kode_wilayah.startsWith(u)})):[]}),[s,u]),v=(0,r.useMemo)((function(){var e=0,a=0;if(u&&x){var n=j.find((function(e){return e.kode_wilayah===x}));n&&(e=parseInt(n.jml_penerima),a=parseInt(n.jml_penerima_kk))}else u?j.forEach((function(n){e+=parseInt(n.jml_penerima),a+=parseInt(n.jml_penerima_kk)})):s.forEach((function(n){e+=parseInt(n.jml_penerima),a+=parseInt(n.jml_penerima_kk)}));return{individu:e,keluarga:a}}),[j,x]);return(0,o.jsx)(r.Fragment,{children:(0,o.jsx)("div",{className:"col-lg-12",children:(0,o.jsx)("div",{className:"card",children:(0,o.jsxs)("div",{className:"card-body",children:[(0,o.jsx)("div",{className:"filter-primary",children:(0,o.jsx)("button",{type:"button",className:"btn btn-primary",children:"Export Report"})}),(0,o.jsxs)("div",{className:"row g-1 my-4",children:[(0,o.jsx)("div",{className:"col-3",children:(0,o.jsxs)("select",{onChange:function(e){return m(e.target.value)},className:"form-select","aria-label":"Default select example",children:[(0,o.jsx)("option",{value:"",children:"Semua Kecamatan"}),n.map((function(e){return(0,o.jsx)("option",{value:e.kode_wilayah,selected:u===e.kode_wilayah,children:e.nama_kecamatan},e.kode_wilayah)}))]})}),(0,o.jsx)("div",{className:"col-3",children:(0,o.jsxs)("select",{onChange:function(e){return f(e.target.value)},className:"form-select","aria-label":"Default select example",children:[(0,o.jsx)("option",{value:"",children:"Semua Desa"}),j.map((function(e){return(0,o.jsx)("option",{value:e.kode_wilayah,selected:x===e.kode_wilayah,children:e.nama_deskel},e.kode_wilayah)}))]})})]}),(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)("div",{className:"col-md-6",children:(0,o.jsx)("div",{className:"card",children:(0,o.jsx)("div",{className:"card-body rounded-2 bg-primary",children:(0,o.jsxs)("div",{className:"row px-4 py-2",children:[(0,o.jsxs)("div",{className:"col-6",children:[(0,o.jsx)("span",{className:"jum-bantuan timer count-title count-number",children:v.individu})," ",(0,o.jsx)("br",{}),(0,o.jsx)("span",{className:"judul-card-bansos",children:"Penduduk Mendapat Bantuan"})]}),(0,o.jsx)("div",{className:"col-6 text-right center-v",children:(0,o.jsx)("img",{src:l,width:"60"})})]})})})}),(0,o.jsx)("div",{className:"col-md-6",children:(0,o.jsx)("div",{className:"card",children:(0,o.jsx)("div",{className:"card-body rounded-2 bg-secondary",children:(0,o.jsxs)("div",{className:"row px-4 py-2",children:[(0,o.jsxs)("div",{className:"col-6",children:[(0,o.jsx)("span",{className:"jum-bantuan timer count-title count-number",children:v.keluarga})," ",(0,o.jsx)("br",{}),(0,o.jsx)("span",{className:"judul-card-bansos",children:"Kepala Keluarga Mendapat Bantuan"})]}),(0,o.jsx)("div",{className:"col-6 text-right center-v",children:(0,o.jsx)("img",{src:c,width:"60"})})]})})})})]})]})})})})},p=function(){var e=(0,r.useState)(),a=(0,t.Z)(e,2),n=a[0],l=a[1],c=(0,r.useState)(!1),d=(0,t.Z)(c,2),p=d[0],x=d[1],f=(0,r.useState)([]),j=(0,t.Z)(f,2),v=(j[0],j[1]),b=(0,r.useState)([]),k=(0,t.Z)(b,2),N=(k[0],k[1]),g=(0,r.useState)(),_=(0,t.Z)(g,2),y=_[0],w=_[1],D=(0,r.useState)([]),S=(0,t.Z)(D,2),I=(S[0],S[1]),E=(0,r.useState)([]),M=(0,t.Z)(E,2),Z=(M[0],M[1]);return(0,r.useEffect)((function(){x(!0),s.Z.get("https://sulselprov-enrekangkab.pendekar.digitaldesa.id/api/bansos").then((function(e){l(e.data);var a=e.data.data;v(a.list_kecamatan),N(a.list_desa),w(a.last_updated),I(a.list_kabupaten[0].jml_penerima),Z(a.list_kabupaten[0].jml_penerima_kk)})).catch((function(e){alert(e.message)})).finally((function(){return x(!1)})),document.title="Bantuan Sosial | PENDEKAR"}),[]),p?(0,o.jsx)(i.default,{}):(0,o.jsx)(r.Fragment,{children:(0,o.jsxs)("main",{id:"main",className:"main",children:[(0,o.jsx)("div",{className:"pagetitle mt-3 mb-5",children:(0,o.jsx)("h1",{children:"Bantuan Sosial"})}),(0,o.jsx)("div",{className:"filter-update",children:(0,o.jsx)("h5",{children:(0,o.jsxs)("span",{className:"badge bg-update py-3",children:["Last Update : ",(0,m.Ai)(y)]})})}),(0,o.jsx)("section",{className:"section dashboard",children:(0,o.jsxs)("div",{className:"row",children:[n&&(0,o.jsx)(h,{resultData:n}),(0,o.jsx)("div",{className:"col-lg-12",children:(0,o.jsx)("div",{className:"card",children:(0,o.jsxs)("div",{className:"card-body",children:[(0,o.jsx)("h5",{className:"card-title-potensi",children:"Rekap Penerima Bantuan Sosial"}),(0,o.jsx)("div",{className:"filter-primary",children:(0,o.jsx)("button",{type:"button",className:"btn btn-primary",children:"Export Report"})}),n&&(0,o.jsx)(u,{resultData:n})]})})})]})})]})})}},2346:function(e,a,n){n.r(a),n.d(a,{default:function(){return s}});n(2791);var t=n(184);function s(){return(0,t.jsx)("div",{className:"spinner-container",children:(0,t.jsx)("div",{className:"loading-spinner"})})}},9086:function(e,a,n){var t=window.location.hostname.split(".")[0];"https://".concat(t,".pendekar.digitaldesa.id/api/")},7334:function(e,a,n){n.d(a,{Ai:function(){return r},c$:function(){return s},zD:function(){return c}});var t=function(e,a,n){return null==e?"":e.substring(a,a+n)},s=function(e){return"0000-00-00"==e?"-":t(e,8,2)+" "+l(t(e,5,2))+" "+t(e,0,4)},r=function(e){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("-"==t(e,2,1)){var n=t(e,0,2),s=t(e,3,2);return t(e,6,4)+"-"+s+"-"+n}if("-"==t(e,4,1)){var r=t(e,0,4),c=t(e,5,2),d=t(e,8,2),o=t(e,11,8);return a?d+" "+l(c)+" "+r+", "+i(o):d+"-"+c+"-"+r}},i=function(e){var a=t(e,0,2),n="PM";return a<12?(n="AM",0==a&&(a=12)):12!=a&&(a-=12),a+":"+t(e,3,2)+" "+n},l=function(e){return 1==parseInt(e)?"Januari":2==parseInt(e)?"Februari":3==parseInt(e)?"Maret":4==parseInt(e)?"April":5==parseInt(e)?"Mei":6==parseInt(e)?"Juni":7==parseInt(e)?"Juli":8==parseInt(e)?"Agustus":9==parseInt(e)?"September":10==parseInt(e)?"Oktober":11==parseInt(e)?"November":12==parseInt(e)?"Desember":e},c=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return a?a+" "+parseInt(e).formatMoney(0,".",","):"Rp"+parseInt(e).formatMoney(0,",",".")+",-"};Number.prototype.formatMoney=function(e,a,n){var t=this,s=(e=isNaN(e=Math.abs(e))?2:e,a=void 0==a?".":a,n=void 0==n?",":n,t<0?"-":""),r=String(parseInt(t=Math.abs(Number(t)||0).toFixed(e))),i=(i=r.length)>3?i%3:0;return s+(i?r.substr(0,i)+n:"")+r.substr(i).replace(/(\d{3})(?=\d)/g,"$1"+n)+(e?a+Math.abs(t-r).toFixed(e).slice(2):"")}}}]);
//# sourceMappingURL=522.c31e9315.chunk.js.map